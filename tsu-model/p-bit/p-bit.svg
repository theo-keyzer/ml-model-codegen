<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="300" y="30" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold">1T1M P-Bit Hardware Circuit</text>
  
  <!-- Main Circuit Box -->
  <rect x="50" y="50" width="500" height="300" fill="none" stroke="#333" stroke-width="2"/>
  
  <!-- === LEFT SIDE: PROGRAMMING INTERFACE === -->
  <text x="100" y="80" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Programming Interface</text>
  
  <!-- Programming Voltage -->
  <circle cx="100" cy="120" r="8" fill="#4CAF50"/>
  <text x="100" y="140" text-anchor="middle" font-family="Arial" font-size="10">V_PROG</text>
  <line x1="100" y1="128" x2="100" y2="160" stroke="#4CAF50" stroke-width="2"/>
  
  <!-- Word Line -->
  <circle cx="150" cy="120" r="8" fill="#2196F3"/>
  <text x="150" y="140" text-anchor="middle" font-family="Arial" font-size="10">WL</text>
  <line x1="150" y1="128" x2="150" y2="160" stroke="#2196F3" stroke-width="2"/>
  
  <!-- === CENTER: 1T1M CORE CIRCUIT === -->
  <text x="300" y="80" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">1T1M P-Bit Core</text>
  
  <!-- Access Transistor (T) -->
  <rect x="220" y="160" width="60" height="40" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
  <text x="250" y="185" text-anchor="middle" font-family="Arial" font-size="10">Access</text>
  <text x="250" y="195" text-anchor="middle" font-family="Arial" font-size="10">Transistor</text>
  
  <!-- Transistor terminals -->
  <circle cx="220" cy="170" r="3" fill="#2196F3"/> <!-- Source -->
  <circle cx="280" cy="170" r="3" fill="#2196F3"/> <!-- Drain -->
  <circle cx="250" cy="160" r="3" fill="#2196F3"/> <!-- Gate -->
  
  <!-- Memristor (M) -->
  <path d="M 280,170 L 300,170 L 300,190 L 280,190 Z" fill="#FFEBEE" stroke="#F44336" stroke-width="2"/>
  <line x1="290" y1="170" x2="290" y2="190" stroke="#F44336" stroke-width="2"/>
  <text x="290" y="185" text-anchor="middle" font-family="Arial" font-size="10">Memristor</text>
  
  <!-- Memristor symbol -->
  <line x1="310" y1="170" x2="310" y2="190" stroke="#F44336" stroke-width="2"/>
  <line x1="307" y1="175" x2="313" y2="175" stroke="#F44336" stroke-width="1"/>
  <line x1="307" y1="185" x2="313" y2="185" stroke="#F44336" stroke-width="1"/>
  
  <!-- === RIGHT SIDE: SAMPLING INTERFACE === -->
  <text x="450" y="80" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Sampling Interface</text>
  
  <!-- Read Voltage -->
  <circle cx="450" cy="120" r="8" fill="#FF9800"/>
  <text x="450" y="140" text-anchor="middle" font-family="Arial" font-size="10">V_READ</text>
  <line x1="450" y1="128" x2="450" y2="160" stroke="#FF9800" stroke-width="2"/>
  
  <!-- Noise Transistor -->
  <rect x="380" y="220" width="50" height="30" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
  <text x="405" y="235" text-anchor="middle" font-family="Arial" font-size="9">Noise</text>
  <text x="405" y="243" text-anchor="middle" font-family="Arial" font-size="9">Source</text>
  
  <!-- Noise waveform -->
  <path d="M 380,235 Q 385,225, 390,235 Q 395,245, 400,235 Q 405,225, 410,235 Q 415,245, 420,235 Q 425,225, 430,235" 
        fill="none" stroke="#FF9800" stroke-width="1.5"/>
  
  <!-- === CENTRAL NODE: "TUG OF WAR" === -->
  <circle cx="340" cy="180" r="15" fill="#9C27B0" stroke="#7B1FA2" stroke-width="2"/>
  <text x="340" y="183" text-anchor="middle" font-family="Arial" font-size="8" fill="white">V_node</text>
  
  <!-- Comparator -->
  <polygon points="400,170 430,170 430,190 400,190" fill="#E8F5E8" stroke="#4CAF50" stroke-width="2"/>
  <text x="415" y="180" text-anchor="middle" font-family="Arial" font-size="8">Comparator</text>
  <line x1="415" y1="170" x2="415" y2="160" stroke="#666" stroke-width="1"/> <!-- + input -->
  <line x1="425" y1="170" x2="425" y2="160" stroke="#666" stroke-width="1"/> <!-- - input -->
  
  <!-- Threshold Voltage -->
  <circle cx="425" cy="150" r="4" fill="#666"/>
  <text x="440" y="153" text-anchor="start" font-family="Arial" font-size="9">V_TH</text>
  
  <!-- Output -->
  <line x1="430" y1="180" x2="480" y2="180" stroke="#333" stroke-width="2"/>
  <text x="490" y="183" text-anchor="start" font-family="Arial" font-size="10">P-Bit Output</text>
  
  <!-- === CONNECTIONS === -->
  
  <!-- Programming to Transistor Gate -->
  <line x1="150" y1="160" x2="250" y2="160" stroke="#2196F3" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- V_READ to Memristor -->
  <line x1="450" y1="160" x2="340" y2="160" stroke="#FF9800" stroke-width="2"/>
  <line x1="340" y1="160" x2="340" y2="165" stroke="#FF9800" stroke-width="2"/>
  
  <!-- Transistor Drain to Memristor -->
  <line x1="280" y1="170" x2="300" y2="170" stroke="#333" stroke-width="2"/>
  
  <!-- Memristor to Central Node -->
  <line x1="310" y1="180" x2="325" y2="180" stroke="#F44336" stroke-width="2"/>
  
  <!-- Noise Source to Central Node -->
  <line x1="380" y1="235" x2="355" y2="235" stroke="#FF9800" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="355" y1="235" x2="355" y2="195" stroke="#FF9800" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="355" y1="195" x2="340" y2="195" stroke="#FF9800" stroke-width="2" stroke-dasharray="3,3"/>
  
  <!-- Central Node to Comparator -->
  <line x1="355" y1="180" x2="400" y2="180" stroke="#9C27B0" stroke-width="2"/>
  
  <!-- Ground -->
  <line x1="220" y1="200" x2="220" y2="220" stroke="#333" stroke-width="2"/>
  <line x1="215" y1="220" x2="225" y2="220" stroke="#333" stroke-width="2"/>
  <line x1="210" y1="225" x2="230" y2="225" stroke="#333" stroke-width="2"/>
  <line x1="205" y1="230" x2="235" y2="230" stroke="#333" stroke-width="2"/>
  <text x="200" y="250" text-anchor="middle" font-family="Arial" font-size="9">GND</text>
  
  <!-- === ANNOTATIONS === -->
  
  <!-- Memristor Conductance -->
  <text x="290" y="210" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold">G_M = 1/R_M</text>
  <text x="290" y="222" text-anchor="middle" font-family="Arial" font-size="9">(Programmable Weight)</text>
  
  <!-- Tug of War Annotation -->
  <text x="200" y="280" text-anchor="middle" font-family="Arial" font-size="10" fill="#9C27B0">"Tug of War" Node</text>
  <text x="200" y="292" text-anchor="middle" font-family="Arial" font-size="9" fill="#9C27B0">I_mem (Signal) vs I_noise (Random)</text>
  
  <!-- Stochastic Output -->
  <text x="450" y="280" text-anchor="middle" font-family="Arial" font-size="10">Stochastic Output:</text>
  <text x="450" y="292" text-anchor="middle" font-family="Arial" font-size="9">P(1) ∝ exp(-E/kT)</text>
  
  <!-- Energy Function -->
  <text x="300" y="330" text-anchor="middle" font-family="Arial" font-size="10" font-style="italic">
    Energy: E = -V_READ · G_M · V_node + noise
  </text>
</svg>
